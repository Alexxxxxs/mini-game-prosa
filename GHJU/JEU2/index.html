<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYSTEM ACCESS: WASTELAND RADAR</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Modal Message Radio -->
    <div id="radioModal" class="modal" style="display:none;">
        <div class="modal-content radio-modal">
            <div class="radio-header">
                <span class="radio-icon">ðŸ“»</span>
                <div class="frequency-display">
                    <span class="freq-label">FRÃ‰QUENCE:</span>
                    <span class="freq-value blink">107.9 MHz</span>
                </div>
            </div>
            <div class="radio-static">
                [GRÃ‰SILLEMENT... INTERFÃ‰RENCE... SIGNAL CAPTÃ‰]
            </div>
            <div id="radioMessage" class="radio-message"></div>
            <div class="radio-controls">
                <button id="skipRadio" class="terminal-button small-btn">&gt; PASSER</button>
                <button id="continueFromRadio" class="terminal-button" style="display:none;">&gt; CONTINUER</button>
            </div>
        </div>
    </div>

    <!-- Modal des RÃ¨gles -->
    <div id="rulesModal" class="modal" style="display:flex;">
        <div class="modal-content">
            <div class="modal-header">
                <span class="glitch">&gt;&gt; ENTRAÃŽNEMENT: RÃ‰CUPÃ‰RATION SIGNAL RADIO &lt;&lt;</span>
            </div>
            <div class="modal-body">
                <p class="terminal-line">[PROTOCOLE D'ENTRAÃŽNEMENT AVANT MISSION...]</p>
                <br>
                <p class="rule-item"><span class="prompt">&gt;</span> <strong>OBJECTIF:</strong> Synchronisez 3 signaux successifs pour Ã©tablir la connexion complÃ¨te avec l'Ã©metteur rebelle.</p>
                
                <p class="rule-item"><span class="prompt">&gt;</span> <strong>CONTRÃ”LE PHASE:</strong> Ajustez le dÃ©calage temporel de votre onde pour qu'elle corresponde au signal cible (vert).</p>
                
                <p class="rule-item"><span class="prompt">&gt;</span> <strong>CONTRÃ”LE AMPLITUDE:</strong> RÃ©glez la puissance de votre signal pour qu'elle corresponde Ã  l'amplitude cible.</p>
                
                <p class="rule-item"><span class="prompt">&gt;</span> <strong>DIFFICULTÃ‰:</strong> Le signal rebelle dÃ©rive continuellement. Vous devez maintenir la synchronisation pour valider chaque Ã©tape.</p>
                
                <p class="rule-item"><span class="prompt">&gt;</span> <strong>TEMPS LIMITE:</strong>Synchronisez les 3 signaux avant la fin du temps imparti (50 secondes).</p>
                <br>
                <p class="terminal-line">[SYSTÃˆME PRÃŠT - ATTENDANT AUTORISATION...]</p>
            </div>
            <button id="closeModal" class="terminal-button">&gt; COMMENCER L'ENTRAÃŽNEMENT</button>
        </div>
    </div>

    <!-- Game Container -->
    <div class="container" style="display:none;" id="gameContainer">
        <div class="terminal-header">
            <span class="glitch">SYSTEM ACCESS: RADIO FREQUENCE 107.9 MHz</span>
        </div>

        <div class="game-section">
            <!-- Control Panel -->
            <div class="control-panel">
                <div class="panel-title">&gt;&gt; Ã‰TAT DU SYSTÃˆME</div>
                <div class="stat">
                    <span class="label">TEMPS RESTANT:</span>
                    <span class="value" id="timer">15</span>
                </div>
                <div class="stat">
                    <span class="label">SIGNAUX SYNC:</span>
                    <span class="value" id="successCount">0/3</span>
                </div>
                <div class="stat">
                    <span class="label">PHASE:</span>
                    <span class="value" id="phaseStatus" style="font-size: 1rem;">DÃ‰SYNC</span>
                </div>
                <div class="stat">
                    <span class="label">AMPLITUDE:</span>
                    <span class="value" id="amplitudeStatus" style="font-size: 1rem;">DÃ‰SYNC</span>
                </div>
                <button id="startBtn" class="terminal-button">&gt; DÃ‰MARRER SCAN</button>
            </div>

            <!-- Wave Display -->
            <div class="wave-container">
                <div class="wave-label">&gt;&gt; OSCILLOSCOPE SIGNAL</div>
                <canvas id="waveCanvas" width="600" height="200"></canvas>
                
                <!-- Radio Dial Container -->
                <div class="radio-dial-container">
                    <!-- Phase Dial -->
                    <div class="dial-section">
                        <div class="dial-title">RÃ‰GLAGE DE PHASE</div>
                        <div class="radio-dial">
                            <div class="dial-ticks">
                                <div class="tick major"></div>
                                <div class="tick"></div>
                                <div class="tick"></div>
                                <div class="tick"></div>
                                <div class="tick major"></div>
                                <div class="tick"></div>
                                <div class="tick"></div>
                                <div class="tick"></div>
                                <div class="tick major"></div>
                            </div>
                            <div class="dial-center-zone"></div>
                            <div class="needle" id="needlePhase"></div>
                        </div>
                        <input type="range" id="tuningSliderPhase" min="0" max="628" value="314" step="1">
                    </div>

                    <!-- Amplitude Dial -->
                    <div class="dial-section">
                        <div class="dial-title">RÃ‰GLAGE D'AMPLITUDE</div>
                        <div class="radio-dial">
                            <div class="dial-ticks">
                                <div class="tick major"></div>
                                <div class="tick"></div>
                                <div class="tick"></div>
                                <div class="tick"></div>
                                <div class="tick major"></div>
                                <div class="tick"></div>
                                <div class="tick"></div>
                                <div class="tick"></div>
                                <div class="tick major"></div>
                            </div>
                            <div class="dial-center-zone"></div>
                            <div class="needle amplitude-needle" id="needleAmplitude"></div>
                        </div>
                        <input type="range" id="tuningSliderAmplitude" min="20" max="100" value="60" step="1">
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Display -->
        <div class="status-display">
            <div class="status-header">&gt;&gt; JOURNAL DE TRANSMISSION</div>
            <div class="status-content" id="messageText">
                <span class="prompt">&gt;</span> SystÃ¨me en attente... Appuyez sur DÃ‰MARRER SCAN pour commencer.
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>